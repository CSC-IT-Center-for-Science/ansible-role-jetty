#
# WARNING: this file is auto-generated by Ansible CSCfi.jetty role
# DO NOT EDIT
# all local changes will be overwritten!
# ---------------------------------------
# Module: lowresources
# Enables a low resource monitor on the server
# that can take actions if threads and/or connections
# cross configured threshholds.
# ---------------------------------------
--module=lowresources

## Scan period to look for low resources (in milliseconds)
{% if jetty_modules.lowresources.period is defined %}
jetty.lowresources.period={{ jetty_modules.lowresources.period }}
{% else %}
# jetty.lowresources.period=1000
{% endif %}

## The idle timeout to apply to low resources (in milliseconds)
{% if jetty_modules.lowresources.idleTimeout is defined %}
jetty.lowresources.idleTimeout={{ jetty_modules.lowresources.idleTimeout }}
{% else %}
# jetty.lowresources.idleTimeout=1000
{% endif %}

## Whether to monitor ThreadPool threads for low resources
{% if jetty_modules.lowresources.monitorThreads is defined %}
jetty.lowresources.monitorThreads={{ jetty_modules.lowresources.monitorThreads }}
{% else %}
# jetty.lowresources.monitorThreads=true
{% endif %}

## Max number of connections allowed before being in low resources mode
# deprecated - https://www.eclipse.org/jetty/javadoc/current/org/eclipse/jetty/server/LowResourceMonitor.html
# jetty.lowresources.maxConnections=1000

## Max memory allowed before being in low resources mode (in bytes)
{% if jetty_modules.lowresources.maxMemory is defined %}
jetty.lowresources.maxMemory={{ jetty_modules.lowresources.maxMemory }}
{% else %}
# jetty.lowresources.maxMemory=0
{% endif %}

## Max time a resource may stay in low resource mode before actions are taken (in milliseconds)
{% if jetty_modules.lowresources.maxLowResourcesTime is defined %}
jetty.lowresources.maxLowResourcesTime={{ jetty_modules.lowresources.maxLowResourcesTime }}
{% else %}
# jetty.lowresources.maxLowResourcesTime=5000
{% endif %}

## Accept new connections while in low resources
{% if jetty_modules.lowresources.accepting is defined %}
jetty.lowresources.accepting={{ jetty_modules.lowresources.accepting }}
{% else %}
# jetty.lowresources.accepting=true
{% endif %}
